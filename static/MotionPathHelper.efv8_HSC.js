import{s as At,g as Lt,a as Ot,t as ft,c as gt,r as Gt,b as Pt,d as Vt,e as qt,f as lt,p as St}from"./MotionPathPlugin.40tP-nNg.js";/*!
 * PathEditor 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var jt=/(?:(-)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,m,tt,X,B,et,xt,N="#4e7fff",pt=1,Yt=Math.PI/180,Ct=Date.now||function(){return new Date().getTime()},wt=0,dt=0,at=function(){return!1},$t=function(){return wt=Ct()},F,M,q,U,it,Z={},j=[],K={},A=[],b=",",x=[],O=function(i){i.preventDefault&&(i.preventDefault(),i.preventManipulation&&i.preventManipulation())},mt=function(i){return m.createElementNS?m.createElementNS("http://www.w3.org/1999/xhtml",i):m.createElement(i)},H=function(i,s,t){var e=m.createElementNS("http://www.w3.org/2000/svg",i),n=/([a-z])([A-Z])/g,r;t=t||{},t.class=t.class||"path-editor";for(r in t)e.style[r]!==void 0?e.style[r]=t[r]:e.setAttributeNS(null,r.replace(n,"$1-$2").toLowerCase(),t[r]);return s.appendChild(e),e},Wt={matrix:new Vt},z=function(i){return(i.transform&&i.transform.baseVal.consolidate()||Wt).matrix},Bt=function(i){for(var s=z(i),t=i.ownerSVGElement;(i=i.parentNode)&&i.ownerSVGElement===t;)s.multiply(z(i));return"matrix("+s.a+","+s.b+","+s.c+","+s.d+","+s.e+","+s.f+")"},Ft=function(i){var s=[],t=i._selectedAnchors,e;for(e=0;e<t.length;e++)s[e]=t[e].i;j.unshift({path:i,d:i.path.getAttribute("d"),transform:i.path.getAttribute("transform")||"",selectedIndexes:s}),j.length>30&&(j.length=30)},D=function(i){return~~(i*1e3+(i<0?-.5:.5))/1e3},Ut=function(i){return i=D(i),["M-"+i,-i,i,-i,i,i,-i,i+"z"].join(b)},Kt=function(i){var s=.552284749831,t=D(i*s);return i=D(i),"M"+i+",0C"+[i,t,t,i,0,i,-t,i,-i,t,-i,0,-i,-t,-t,-i,0,-i,t,-i,i,-t,i,0].join(b)+"z"},vt=function(i){if(!i.target._gsSelection&&!dt&&Ct()-wt>100){for(var s=x.length;--s>-1;)x[s].deselect();x.length=0}},ht,rt,_t=0,P=function(i,s,t,e){if(i.addEventListener){var n=rt[s];e=e||{passive:!1},i.addEventListener(n||s,t,e),n&&s!==n&&n.substr(0,7)!=="pointer"&&i.addEventListener(s,t,e)}else i.attachEvent&&i.attachEvent("on"+s,t)},S=function(i,s,t){if(i.removeEventListener){var e=rt[s];i.removeEventListener(e||s,t),e&&s!==e&&e.substr(0,7)!=="pointer"&&i.removeEventListener(s,t)}else i.detachEvent&&i.detachEvent("on"+s,t)},Zt=function(i,s){for(var t=i.length;--t>-1;)if(i[t].identifier===s)return!0;return!1},Jt=function l(i){_t=i.touches&&_dragCount<i.touches.length,S(i.target,"touchend",l)},kt=function(i){_t=i.touches&&_dragCount<i.touches.length,P(i.target,"touchend",Jt)},L=function(i,s){return function(t){return i.call(s,t)}},k=function(i,s,t){var e=s.vars[i];return e&&e.call(s.vars.callbackScope||s,t||s),s},Y,Et=function(){Y.style.display="block",Y.select(),Y.style.display="none"},Dt,Mt=function(i){m=document,X=window,B=m.body,et=et||i||X.gsap||console.warn("Please gsap.registerPlugin(PathEditor)"),xt=et&&et.core.context||function(){},ht=mt("div"),Y=mt("textarea"),Y.style.display="none",B&&B.appendChild(Y),rt=function(s){for(var t=s.split(","),e=(ht.onpointerdown!==void 0?"pointerdown,pointermove,pointerup,pointercancel":ht.onmspointerdown!==void 0?"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel":s).split(","),n={},r=4;--r>-1;)n[t[r]]=e[r],n[e[r]]=t[r];return n}("touchstart,touchmove,touchend,touchcancel"),SVGElement.prototype.getTransformToElement=SVGElement.prototype.getTransformToElement||function(s){return s.getScreenCTM().inverse().multiply(this.getScreenCTM())},m.addEventListener("keydown",function(s){var t=s.keyCode||s.which,e=s.key||t,n,r,o,h;if(e==="Shift"||t===16)q=!0;else if(e==="Control"||t===17)F=!0;else if(e==="Meta"||t===91)U=!0;else if(e==="Alt"||t===18)for(M=!0,n=x.length;--n>-1;)x[n]._onPressAlt();else if((e==="z"||t===90)&&(F||U)&&j.length>1){if(j.shift(),r=j[0],r){for(h=r.path,h.path.setAttribute("d",r.d),h.path.setAttribute("transform",r.transform),h.init(),o=h._anchors,n=0;n<o.length;n++)r.selectedIndexes.indexOf(o[n].i)!==-1&&h._selectedAnchors.push(o[n]);h._updateAnchors(),h.update(),h.vars.onUndo&&h.vars.onUndo.call(h)}}else if(e==="Delete"||e==="Backspace"||t===8||t===46||t===63272||t==="d"&&(F||U))for(n=x.length;--n>-1;)x[n]._deleteSelectedAnchors();else if((e==="a"||t===65)&&(U||F))for(n=x.length;--n>-1;)x[n].select(!0)},!0),m.addEventListener("keyup",function(s){var t=s.key||s.keyCode||s.which;if(t==="Shift"||t===16)q=!1;else if(t==="Control"||t===17)F=!1;else if(t==="Meta"||t===91)U=!1;else if(t==="Alt"||t===18){M=!1;for(var e=x.length;--e>-1;)x[e]._onReleaseAlt()}},!0),tt=!!X.PointerEvent,P(m,"mouseup",vt),P(m,"touchend",vt),P(m,"touchcancel",at),P(X,"touchmove",at),B&&B.addEventListener("touchstart",at),Dt=1},Qt=function(i){var s=this,t=qt(s.target.parentNode,!0),e,n;this._matrix=this.target.transform.baseVal.getItem(0).matrix,this._ctm=t,rt[i.type]?(e=i.type.indexOf("touch")!==-1?i.currentTarget||i.target:m,P(e,"touchend",s._onRelease),P(e,"touchmove",s._onMove),P(e,"touchcancel",s._onRelease),P(m,"touchstart",kt),P(X,"touchforcechange",O)):(e=null,P(m,"mousemove",s._onMove)),tt||P(m,"mouseup",s._onRelease),O(i),Et(),i.changedTouches?(i=s.touch=i.changedTouches[0],s.touchID=i.identifier):i.pointerId?s.touchID=i.pointerId:s.touch=s.touchID=null,s._startPointerY=s.pointerY=i.pageY,s._startPointerX=s.pointerX=i.pageX,s._startElementX=s._matrix.e,s._startElementY=s._matrix.f,this._ctm.a===1&&this._ctm.b===0&&this._ctm.c===0&&this._ctm.d===1?this._ctm=null:(n=s._startPointerX*this._ctm.a+s._startPointerY*this._ctm.c+this._ctm.e,s._startPointerY=s._startPointerX*this._ctm.b+s._startPointerY*this._ctm.d+this._ctm.f,s._startPointerX=n),s.isPressed=dt=!0,s.touchEventTarget=e,s.vars.onPress&&s.vars.onPress.call(s.vars.callbackScope||s,s.pointerEvent)},zt=function(i){var s=this,t=i,e,n;if(!(!s._enabled||_t||!s.isPressed||!i)){if(s.pointerEvent=i,e=i.changedTouches,e){if(i=e[0],i!==s.touch&&i.identifier!==s.touchID){for(n=e.length;--n>-1&&(i=e[n]).identifier!==s.touchID;);if(n<0)return}}else if(i.pointerId&&s.touchID&&i.pointerId!==s.touchID)return;O(t),s.setPointerPosition(i.pageX,i.pageY),s.vars.onDrag&&s.vars.onDrag.call(s.vars.callbackScope||s,s.pointerEvent)}},te=function(i,s){var t=this;if(!(!t._enabled||!t.isPressed||i&&t.touchID!=null&&!s&&(i.pointerId&&i.pointerId!==t.touchID||i.changedTouches&&!Zt(i.changedTouches,t.touchID)))){$t(),t.isPressed=dt=!1;var e=i,n=t.isDragging,r=t.touchEventTarget,o,h;if(r?(S(r,"touchend",t._onRelease),S(r,"touchmove",t._onMove),S(r,"touchcancel",t._onRelease),S(m,"touchstart",kt)):S(m,"mousemove",t._onMove),tt||(S(m,"mouseup",t._onRelease),i&&i.target&&S(i.target,"mouseup",t._onRelease)),n?t.isDragging=!1:t.vars.onClick&&t.vars.onClick.call(t.vars.callbackScope||t,e),i){if(o=i.changedTouches,o&&(i=o[0],i!==t.touch&&i.identifier!==t.touchID)){for(h=o.length;--h>-1&&(i=o[h]).identifier!==t.touchID;);if(h<0)return}t.pointerEvent=e,t.pointerX=i.pageX,t.pointerY=i.pageY}return e&&!n&&t.vars.onDragRelease?t.vars.onDragRelease.call(t,t.pointerEvent):(e&&O(e),t.vars.onRelease&&t.vars.onRelease.call(t.vars.callbackScope||t,t.pointerEvent)),n&&t.vars.onDragEnd&&t.vars.onDragEnd.call(t.vars.callbackScope||t,t.pointerEvent),!0}},bt=function(i,s,t,e){var n=i[s],r=n.length-(n.closed?6:0),o=[],h;for(h=0;h<r;h+=6)o.push(new Ht(t,i,s,h,e));return n.closed&&(o[0].isClosedStart=!0),o},V=function(i,s,t){var e=i[t]-i[s],n=i[t+1]-i[s+1];return Math.sqrt(e*e+n*n)},nt=function(){function l(s,t){this.target=typeof s=="string"?m.querySelectorAll(s)[0]:s,this.vars=t||{},this._onPress=L(Qt,this),this._onMove=L(zt,this),this._onRelease=L(te,this),this.target.setAttribute("transform",(this.target.getAttribute("transform")||"")+" translate(0,0)"),this._matrix=z(this.target),this.x=this._matrix.e,this.y=this._matrix.f,this.snap=t.snap,!isNaN(t.maxX)||!isNaN(t.minX)?(this._bounds=1,this.maxX=+t.maxX,this.minX=+t.minX):this._bounds=0,this.enabled(!0)}var i=l.prototype;return i.setPointerPosition=function(t,e){var n=1e3,r,o,h,a,d;this.pointerX=t,this.pointerY=e,this._ctm&&(d=t*this._ctm.a+e*this._ctm.c+this._ctm.e,e=t*this._ctm.b+e*this._ctm.d+this._ctm.f,t=d),o=e-this._startPointerY,r=t-this._startPointerX,o<pt&&o>-1&&(o=0),r<pt&&r>-1&&(r=0),h=((this._startElementX+r)*n|0)/n,a=((this._startElementY+o)*n|0)/n,this.snap&&!q&&(K.x=h,K.y=a,this.snap.call(this,K),h=K.x,a=K.y),(this.x!==h||this.y!==a)&&(this._matrix.f=this.y=a,this._matrix.e=this.x=h,!this.isDragging&&this.isPressed&&(this.isDragging=!0,k("onDragStart",this,this.pointerEvent)))},i.enabled=function(t){if(!arguments.length)return this._enabled;var e;return this._enabled=t,t?(tt||P(this.target,"mousedown",this._onPress),P(this.target,"touchstart",this._onPress),P(this.target,"click",this._onClick,!0)):(e=this.isDragging,S(this.target,"mousedown",this._onPress),S(this.target,"touchstart",this._onPress),S(X,"touchforcechange",O),S(this.target,"click",this._onClick),this.touchEventTarget&&(S(this.touchEventTarget,"touchcancel",this._onRelease),S(this.touchEventTarget,"touchend",this._onRelease),S(this.touchEventTarget,"touchmove",this._onMove)),S(m,"mouseup",this._onRelease),S(m,"mousemove",this._onMove),this.isDragging=this.isPressed=!1,e&&k("onDragEnd",this,this.pointerEvent)),this},i.endDrag=function(t){this._onRelease(t)},l}(),Ht=function(){function l(s,t,e,n,r){this.editor=s,this.element=H("path",s._selection,{fill:N,stroke:N,strokeWidth:2,vectorEffect:"non-scaling-stroke"}),this.update(t,e,n),this.element._gsSelection=!0,this.vars=r||{},this._draggable=new nt(this.element,{callbackScope:this,onDrag:this.onDrag,snap:this.vars.snap,onPress:this.onPress,onRelease:this.onRelease,onClick:this.onClick,onDragEnd:this.onDragEnd})}var i=l.prototype;return i.onPress=function(){k("onPress",this)},i.onClick=function(){k("onClick",this)},i.onDrag=function(){var t=this.segment;this.vars.onDrag.call(this.vars.callbackScope||this,this,this._draggable.x-t[this.i],this._draggable.y-t[this.i+1])},i.onDragEnd=function(){k("onDragEnd",this)},i.onRelease=function(){k("onRelease",this)},i.update=function(t,e,n){t&&(this.rawPath=t),arguments.length<=1?(e=this.j,n=this.i):(this.j=e,this.i=n);var r=this.smooth,o=this.rawPath[e],h=n===0&&o.closed?o.length-4:n-2;this.segment=o,this.smooth=n>0&&n<o.length-2&&Math.abs(Math.atan2(o[n+1]-o[h+1],o[n]-o[h])-Math.atan2(o[n+3]-o[n+1],o[n+2]-o[n]))<.09?2:0,this.smooth!==r&&this.element.setAttribute("d",this.smooth?this.editor._circleHandle:this.editor._squareHandle),this.element.setAttribute("transform","translate("+o[n]+","+o[n+1]+")")},l}(),C=function(){function l(s,t){t=t||{},Dt||Mt(),this.vars=t,this.path=typeof s=="string"?m.querySelectorAll(s)[0]:s,this._g=H("g",this.path.ownerSVGElement,{class:"path-editor-g path-editor"}),this._selectionHittest=H("path",this._g,{stroke:"transparent",strokeWidth:16,fill:"none",vectorEffect:"non-scaling-stroke"}),this._selection=t._selection||H("g",this._g,{class:"path-editor-selection path-editor"}),this._selectionPath=H("path",this._selection,{stroke:N,strokeWidth:2,fill:"none",vectorEffect:"non-scaling-stroke"}),this._selectedAnchors=[],this._line1=H("polyline",this._selection,{stroke:N,strokeWidth:2,vectorEffect:"non-scaling-stroke"}),this._line2=H("polyline",this._selection,{stroke:N,strokeWidth:2,vectorEffect:"non-scaling-stroke"}),this._line1.style.pointerEvents=this._line2.style.pointerEvents=this._selectionPath.style.pointerEvents="none",this._enabled=!0;var e=this.path.parentNode.getScreenCTM().inverse(),n=(e.a+e.d)/2*(t.handleSize||5);this._squareHandle=Ut(n),this._circleHandle=Kt(n*1.15),this._handle1=H("path",this._selection,{d:this._squareHandle,fill:N,stroke:"transparent",strokeWidth:6}),this._handle2=H("path",this._selection,{d:this._squareHandle,fill:N,stroke:"transparent",strokeWidth:6}),this._handle1._draggable=new nt(this._handle1,{onDrag:this._onDragHandle1,callbackScope:this,onPress:this._onPressHandle1,onRelease:this._onReleaseHandle,onClick:this._onClickHandle1,snap:t.handleSnap}),this._handle2._draggable=new nt(this._handle2,{onDrag:this._onDragHandle2,callbackScope:this,onPress:this._onPressHandle2,onRelease:this._onReleaseHandle,onClick:this._onClickHandle2,snap:t.handleSnap}),this._handle1.style.visibility=this._handle2.style.visibility="hidden";for(var r=[this._handle1,this._handle2,this._line1,this._line2,this._selection,this._selectionPath,this._selectionHittest],o=r.length;--o>-1;)r[o]._gsSelection=!0;t.draggable!==!1&&(this._draggable=new nt(this._selectionHittest,{callbackScope:this,onPress:this.select,onRelease:this._onRelease,onDrag:this._onDragPath,onDragEnd:this._saveState,maxX:this.vars.maxX,minX:this.vars.minX})),this.init(),this._selection.style.visibility=t.selected===!1?"hidden":"visible",t.selected!==!1&&(this.path._gsSelection=!0,x.push(this)),this._saveState(),tt||(P(this._selectionHittest,"mousedown",L(this._onClickSelectionPath,this)),P(this._selectionHittest,"mouseup",L(this._onRelease,this))),P(this._selectionHittest,"touchstart",L(this._onClickSelectionPath,this)),P(this._selectionHittest,"touchend",L(this._onRelease,this)),xt(this)}var i=l.prototype;return i._onRelease=function(t){var e=this._editingAnchor;e&&(Z.x=e.segment[e.i],Z.y=e.segment[e.i+1]),S(X,"touchforcechange",O),k("onRelease",this,t)},i.init=function(){var t=this.path.getAttribute("d"),e=At(t),n=this.path.getAttribute("transform")||"translate(0,0)",r=!this._rawPath||e.totalPoints!==this._rawPath.totalPoints||e.length!==this._rawPath.length,o={callbackScope:this,snap:this.vars.anchorSnap,onDrag:this._onDragAnchor,onPress:this._onPressAnchor,onRelease:this._onRelease,onClick:this._onClickAnchor,onDragEnd:this._onDragEndAnchor,maxX:this.vars.maxX,minX:this.vars.minX},h,a;if(r&&this._anchors&&this._anchors.length){for(a=0;a<this._anchors.length;a++)this._anchors[a].element.parentNode.removeChild(this._anchors[a].element),this._anchors[a]._draggable.enabled(!1);this._selectedAnchors.length=0}if(this._rawPath=e,r){if(this._anchors=bt(e,0,this,o),h=e.length,h>1)for(a=1;a<h;a++)this._anchors=this._anchors.concat(bt(e,a,this,o))}else for(a=this._anchors.length;--a>-1;)this._anchors[a].update(e);return this._selection.appendChild(this._handle1),this._selection.appendChild(this._handle2),this._selectionPath.setAttribute("d",t),this._selectionHittest.setAttribute("d",t),this._g.setAttribute("transform",Bt(this.path.parentNode)||"translate(0,0)"),this._selection.setAttribute("transform",n),this._selectionHittest.setAttribute("transform",n),this._updateAnchors(),this},i._saveState=function(){Ft(this)},i._onClickSelectionPath=function(t){if(this._selection.style.visibility==="hidden")this.select();else if(M||t&&t.altKey){var e={callbackScope:this,snap:this.vars.anchorSnap,onDrag:this._onDragAnchor,onPress:this._onPressAnchor,onRelease:this._onRelease,onClick:this._onClickAnchor,onDragEnd:this._onDragEndAnchor,maxX:this.vars.maxX,minX:this.vars.minX},n=this._selection.getScreenCTM().inverse(),r,o,h,a,d,c;for(this._draggable&&this._draggable._onRelease(t),n&&(a=t.clientX*n.a+t.clientY*n.c+n.e,d=t.clientX*n.b+t.clientY*n.d+n.f),c=Lt(this._rawPath,a,d),Ot(this._rawPath[c.j],c.i,c.t),r=c.i+6,o=0;o<this._anchors.length;o++)this._anchors[o].i>=r&&this._anchors[o].j===c.j&&(this._anchors[o].i+=6);h=new Ht(this,this._rawPath,c.j,r,e),this._selection.appendChild(this._handle1),this._selection.appendChild(this._handle2),h._draggable._onPress(t),it=h,this._anchors.push(h),this._selectedAnchors.length=0,this._selectedAnchors.push(h),this._updateAnchors(),this.update(),this._saveState()}Et(),P(X,"touchforcechange",O),k("onPress",this)},i._onClickHandle1=function(){var t=this._editingAnchor,e=t.i,n=t.segment,r=t.isClosedStart?n.length-4:e-2;M&&Math.abs(n[e]-n[r])<5&&Math.abs(n[e+1]-n[r+1])<5&&this._onClickAnchor(t)},i._onClickHandle2=function(){var t=this._editingAnchor,e=t.i,n=t.segment;M&&Math.abs(n[e]-n[e+2])<5&&Math.abs(n[e+1]-n[e+3])<5&&this._onClickAnchor(t)},i._onDragEndAnchor=function(t){it=null,this._saveState()},i.isSelected=function(){return this._selectedAnchors.length>0||this._selection.style.visibility==="visible"},i.select=function(t){if(this._selection.style.visibility="visible",this._editingAnchor=null,this.path._gsSelection=!0,t===!0)for(var e=this._anchors.length;--e>-1;)this._selectedAnchors[e]=this._anchors[e];return x.indexOf(this)===-1&&x.push(this),this._updateAnchors(),this},i.deselect=function(){return this._selection.style.visibility="hidden",this._selectedAnchors.length=0,this._editingAnchor=null,this.path._gsSelection=!1,x.splice(x.indexOf(this),1),this._updateAnchors(),this},i._onDragPath=function(t){var e=this._selectionHittest.getAttribute("transform")||"translate(0,0)";this._selection.setAttribute("transform",e),this.path.setAttribute("transform",e)},i._onPressAnchor=function(t){this._selectedAnchors.indexOf(t)===-1?(q||(this._selectedAnchors.length=0),this._selectedAnchors.push(t)):q&&(this._selectedAnchors.splice(this._selectedAnchors.indexOf(t),1),t._draggable.endDrag()),Z.x=t.segment[t.i],Z.y=t.segment[t.i+1],this._updateAnchors(),k("onPress",this)},i._deleteSelectedAnchors=function(){for(var t=this._selectedAnchors,e=t.length,n,r,o,h;--e>-1;)for(n=t[e],n.element.parentNode.removeChild(n.element),n._draggable.enabled(!1),r=n.i,h=n.j,r?r<n.segment.length-2?n.segment.splice(r-2,6):n.segment.splice(r-4,6):n.segment.splice(r,6),t.splice(e,1),this._anchors.splice(this._anchors.indexOf(n),1),o=0;o<this._anchors.length;o++)this._anchors[o].i>=r&&this._anchors[o].j===h&&(this._anchors[o].i-=6);this._updateAnchors(),this.update(),this._saveState(),this.vars.onDeleteAnchor&&this.vars.onDeleteAnchor.call(this.vars.callbackScope||this)},i._onClickAnchor=function(t){var e=t.i,n=t.segment,r=t.isClosedStart?n.length-4:e-2,o=1e3,h=!e||e>=n.length-2,a,d,c,u,f,g;M&&it!==t&&this._editingAnchor?(t.smooth=!t.smooth,h&&!t.isClosedStart&&(t.smooth=!1),t.element.setAttribute("d",t.smooth?this._circleHandle:this._squareHandle),t.smooth&&(!h||t.isClosedStart)?(a=Math.atan2(n[e+1]-n[r+1],n[e]-n[r]),d=Math.atan2(n[e+3]-n[e+1],n[e+2]-n[e]),a=(a+d)/2,c=V(n,r,e),u=V(n,e,e+2),c<.2&&(c=V(n,e,r-4)/4,a=d||Math.atan2(n[e+7]-n[r-3],n[e+6]-n[r-4])),u<.2&&(u=V(n,e,e+6)/4,d=a||Math.atan2(n[e+7]-n[r-3],n[e+6]-n[r-4])),f=Math.sin(a),g=Math.cos(a),Math.abs(d-a)<Math.PI/2&&(f=-f,g=-g),n[r]=((n[e]+g*c)*o|0)/o,n[r+1]=((n[e+1]+f*c)*o|0)/o,n[e+2]=((n[e]-g*u)*o|0)/o,n[e+3]=((n[e+1]-f*u)*o|0)/o,this._updateAnchors(),this.update(),this._saveState()):!t.smooth&&(!h||t.isClosedStart)&&((e||t.isClosedStart)&&(n[r]=n[e],n[r+1]=n[e+1]),e<n.length-2&&(n[e+2]=n[e],n[e+3]=n[e+1]),this._updateAnchors(),this.update(),this._saveState())):q||(this._selectedAnchors.length=0,this._selectedAnchors.push(t)),it=null,this._updateAnchors()},i._updateAnchors=function(){var t=this._selectedAnchors.length===1?this._selectedAnchors[0]:null,e=t?t.segment:null,n,r,o;for(this._editingAnchor=t,n=0;n<this._anchors.length;n++)this._anchors[n].element.style.fill=this._selectedAnchors.indexOf(this._anchors[n])!==-1?N:"white";t&&(this._handle1.setAttribute("d",t.smooth?this._circleHandle:this._squareHandle),this._handle2.setAttribute("d",t.smooth?this._circleHandle:this._squareHandle)),n=t?t.i:0,t&&(n||t.isClosedStart)?(r=t.isClosedStart?e[e.length-4]:e[n-2],o=t.isClosedStart?e[e.length-3]:e[n-1],this._handle1.style.visibility=this._line1.style.visibility=!M&&r===e[n]&&o===e[n+1]?"hidden":"visible",this._handle1.setAttribute("transform","translate("+r+b+o+")"),this._line1.setAttribute("points",r+b+o+b+e[n]+b+e[n+1])):this._handle1.style.visibility=this._line1.style.visibility="hidden",t&&n<e.length-2?(r=e[n+2],o=e[n+3],this._handle2.style.visibility=this._line2.style.visibility=!M&&r===e[n]&&o===e[n+1]?"hidden":"visible",this._handle2.setAttribute("transform","translate("+r+b+o+")"),this._line2.setAttribute("points",e[n]+b+e[n+1]+b+r+b+o)):this._handle2.style.visibility=this._line2.style.visibility="hidden"},i._onPressAlt=function(){var t=this._editingAnchor;t&&((t.i||t.isClosedStart)&&(this._handle1.style.visibility=this._line1.style.visibility="visible"),t.i<t.segment.length-2&&(this._handle2.style.visibility=this._line2.style.visibility="visible"))},i._onReleaseAlt=function(){var t=this._editingAnchor,e,n,r;t&&(e=t.segment,n=t.i,r=t.isClosedStart?e.length-4:n-2,e[n]===e[r]&&e[n+1]===e[r+1]&&(this._handle1.style.visibility=this._line1.style.visibility="hidden"),e[n]===e[n+2]&&e[n+1]===e[n+3]&&(this._handle2.style.visibility=this._line2.style.visibility="hidden"))},i._onPressHandle1=function(){this._editingAnchor.smooth&&(this._oppositeHandleLength=V(this._editingAnchor.segment,this._editingAnchor.i,this._editingAnchor.i+2)),k("onPress",this)},i._onPressHandle2=function(){this._editingAnchor.smooth&&(this._oppositeHandleLength=V(this._editingAnchor.segment,this._editingAnchor.isClosedStart?this._editingAnchor.segment.length-4:this._editingAnchor.i-2,this._editingAnchor.i)),k("onPress",this)},i._onReleaseHandle=function(t){this._onRelease(t),this._saveState()},i._onDragHandle1=function(){var t=this._editingAnchor,e=t.segment,n=t.i,r=t.isClosedStart?e.length-4:n-2,o=1e3,h=this._handle1._draggable.x,a=this._handle1._draggable.y,d;e[r]=h=(h*o|0)/o,e[r+1]=a=(a*o|0)/o,t.smooth&&(M?(t.smooth=!1,t.element.setAttribute("d",this._squareHandle),this._handle1.setAttribute("d",this._squareHandle),this._handle2.setAttribute("d",this._squareHandle)):(d=Math.atan2(e[n+1]-a,e[n]-h),h=this._oppositeHandleLength*Math.cos(d),a=this._oppositeHandleLength*Math.sin(d),e[n+2]=((e[n]+h)*o|0)/o,e[n+3]=((e[n+1]+a)*o|0)/o)),this.update()},i._onDragHandle2=function(){var t=this._editingAnchor,e=t.segment,n=t.i,r=t.isClosedStart?e.length-4:n-2,o=1e3,h=this._handle2._draggable.x,a=this._handle2._draggable.y,d;e[n+2]=h=(h*o|0)/o,e[n+3]=a=(a*o|0)/o,t.smooth&&(M?(t.smooth=!1,t.element.setAttribute("d",this._squareHandle),this._handle1.setAttribute("d",this._squareHandle),this._handle2.setAttribute("d",this._squareHandle)):(d=Math.atan2(e[n+1]-a,e[n]-h),h=this._oppositeHandleLength*Math.cos(d),a=this._oppositeHandleLength*Math.sin(d),e[r]=((e[n]+h)*o|0)/o,e[r+1]=((e[n+1]+a)*o|0)/o)),this.update()},i._onDragAnchor=function(t,e,n){var r=this._selectedAnchors,o=r.length,h=1e3,a,d,c,u,f;for(d=0;d<o;d++)u=r[d],a=u.i,c=u.segment,a?(c[a-2]=((c[a-2]+e)*h|0)/h,c[a-1]=((c[a-1]+n)*h|0)/h):u.isClosedStart&&(f=c.length-2,c[f]=D(c[f]+e),c[f+1]=D(c[f+1]+n),c[f-2]=D(c[f-2]+e),c[f-1]=D(c[f-1]+n)),c[a]=((c[a]+e)*h|0)/h,c[a+1]=((c[a+1]+n)*h|0)/h,a<c.length-2&&(c[a+2]=((c[a+2]+e)*h|0)/h,c[a+3]=((c[a+3]+n)*h|0)/h),u!==t&&u.element.setAttribute("transform","translate("+c[a]+b+c[a+1]+")");this.update()},i.enabled=function(t){if(!arguments.length)return this._enabled;for(var e=this._anchors.length;--e>-1;)this._anchors[e]._draggable.enabled(t);return this._enabled=t,this._handle1._draggable.enabled(t),this._handle2._draggable.enabled(t),this._draggable&&this._draggable.enabled(t),t?this._selection.parentNode||(this.path.ownerSVGElement.appendChild(this._selectionHittest),this.path.ownerSVGElement.appendChild(this._selection),this.init(),this._saveState()):(this.deselect(),this._selectionHittest.parentNode&&this._selectionHittest.parentNode.removeChild(this._selectionHittest),this._selection.parentNode&&this._selection.parentNode.removeChild(this._selection)),this._updateAnchors(),this.update()},i.update=function(t){var e="",n=this._editingAnchor,r,o,h,a,d;if(t&&this.init(),n&&(r=n.i,o=n.segment,(r||n.isClosedStart)&&(d=n.isClosedStart?o.length-4:r-2,h=o[d],a=o[d+1],this._handle1.setAttribute("transform","translate("+h+b+a+")"),this._line1.setAttribute("points",h+b+a+b+o[r]+b+o[r+1])),r<o.length-2&&(h=o[r+2],a=o[r+3],this._handle2.setAttribute("transform","translate("+h+b+a+")"),this._line2.setAttribute("points",o[r]+b+o[r+1]+b+h+b+a))),t)e=this.path.getAttribute("d");else{for(r=0;r<this._rawPath.length;r++)o=this._rawPath[r],o.length>7&&(e+="M"+o[0]+b+o[1]+"C"+o.slice(2).join(b));this.path.setAttribute("d",e),this._selectionPath.setAttribute("d",e),this._selectionHittest.setAttribute("d",e)}return this.vars.onUpdate&&this._enabled&&k("onUpdate",this,e),this},i.getRawPath=function(t,e,n){if(t){var r=z(this.path);return ft(gt(this._rawPath),1,0,0,1,r.e+(e||0),r.f+(n||0))}return this._rawPath},i.getString=function(t,e,n){if(t){var r=z(this.path);return Gt(ft(gt(this._rawPath),1,0,0,1,r.e+(e||0),r.f+(n||0)))}return this.path.getAttribute("d")},i.getNormalizedSVG=function(t,e,n,r){var o=this._rawPath[0],h=o[0]*-1,a=e===0?0:-(e||o[1]),d=o.length,c=1/(o[d-2]+h),u=-t||o[d-1]+a,f=1e3,g,_,v,y,w,G;for(A.length=0,u?u=1/u:u=-c,c*=f,u*=f,_=0;_<d;_+=2)A[_]=((o[_]+h)*c|0)/f,A[_+1]=((o[_+1]+a)*u|0)/f;if(r){for(g=[],d=A.length,_=2;_<d;_+=6)v=A[_-2],y=A[_-1],w=A[_+4],G=A[_+5],g.push(v,y,w,G),Pt(v,y,A[_],A[_+1],A[_+2],A[_+3],w,G,.001,g,g.length-2);for(v=g[0],d=g.length,_=2;_<d;_+=2){if(w=g[_],w<v||w>1||w<0){r();break}v=w}}return n&&d===8&&A[0]===0&&A[1]===0&&A[d-2]===1&&A[d-1]===1?A.slice(2,6).join(","):(A[2]="C"+A[2],"M"+A.join(","))},i.kill=function(){this.enabled(!1),this._g.parentNode&&this._g.parentNode.removeChild(this._g)},i.revert=function(){this.kill()},l}();C.simplifyPoints=lt;C.pointsToSegment=St;C.simplifySVG=function(l,i){var s,t,e,n,r,o,h,a,d,c,u;if(i=i||{},c=i.tolerance||1,d=i.precision||1/c,(i.cornerThreshold===void 0?18:+i.cornerThreshold)*Yt,typeof l!="string"&&(s=l,l=s.getAttribute("d")),(l.charAt(0)==="#"||l.charAt(0)===".")&&(s=m.querySelector(l),s&&(l=s.getAttribute("d"))),t=i.curved===!1&&!/[achqstvz]/ig.test(l)?l.match(jt):At(l)[0],i.curved!==!1){for(a=t,t=[],u=a.length,e=2;e<u;e+=6)n=+a[e-2],o=+a[e-1],r=+a[e+4],h=+a[e+5],t.push(D(n),D(o),D(r),D(h)),Pt(n,o,+a[e],+a[e+1],+a[e+2],+a[e+3],r,h,1/(d*2e5),t,t.length-2);t=St(lt(t,c),i.curviness),t[2]="C"+t[2]}else t=lt(t,c);return l="M"+t.join(","),s&&s.setAttribute("d",l),l};C.create=function(l,i){return new C(l,i)};C.editingAxis=Z;C.getSnapFunction=function(l){var i=l.radius||2,s=1e20,t=l.x||l.x===0?l.x:l.width?0:-1e20,e=l.y||l.y===0?l.y:l.height?0:-1e20,n=t+(l.width||s*s),r=e+(l.height||s*s),o=l.containX!==!1,h=l.containY!==!1,a=l.axis,d=l.gridSize;return i*=i,function(c){var u=c.x,f=c.y,g,_,v,y;o&&u<t||(v=u-t)*v<i?u=t:(o&&u>n||(v=n-u)*v<i)&&(u=n),h&&f<e||(y=f-e)*y<i?f=e:(h&&f>r||(y=r-f)*y<i)&&(f=r),a&&(v=u-a.x,y=f-a.y,v*v<i&&(u=a.x),y*y<i&&(f=a.y)),d&&(g=t+Math.round((u-t)/d)*d,v=g-u,_=e+Math.round((f-e)/d)*d,y=_-f,v*v+y*y<i&&(u=g,f=_)),c.x=u,c.y=f}};C.version="3.13.0";C.register=Mt;/*!
 * MotionPathHelper 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var p,ot,R,J,$,Q,Tt,Rt,Nt,Xt=/(^[#\.][a-z]|[a-y][a-z])/i,ct=function(i){return typeof i=="string"},st=function(i,s){var t=R.createElementNS?R.createElementNS((s||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),i):R.createElement(i);return t.style?t:R.createElement(i)},ee=function(i){var s=i.getBoundingClientRect(),t=J.clientTop-(ot.pageYOffset||J.scrollTop||$.scrollTop||0),e=J.clientLeft-(ot.pageXOffset||J.scrollLeft||$.scrollLeft||0);return{left:s.left+e,top:s.top+t,right:s.right+e,bottom:s.bottom+t}},ie=function(i,s){var t=[0,31,8,58,24,75,40,90,69,100,100,100],e;for(e=0;e<t.length;e+=2)t[e]+=i,t[e+1]+=s;return"M"+i+","+s+"C"+t.join(",")},ne=function(i){for(var s=i.totalTime();i;)s=i.startTime()+s/(i.timeScale()||1),i=i.parent;return s},T,se=function(){T=st("textarea"),T.style.display="none",$.appendChild(T)},yt=function(i,s,t){return ct(i)&&Xt.test(i)?R.querySelector(i):Array.isArray(i)?Rt(Tt([{x:p.getProperty(s,"x"),y:p.getProperty(s,"y")}].concat(i),t)):ct(i)||i&&(i.tagName+"").toLowerCase()==="path"?i:0},oe=function(i,s,t){i.addEventListener("click",function(e){if(e.target._gsHelper){var n=s(e.target);if(T.value=n,n&&T.select){console.log(n),T.style.display="block",T.select();try{R.execCommand("copy"),T.blur(),t&&t(i)}catch{console.warn("Copy didn't work; this browser doesn't permit that.")}T.style.display="none"}}})},re={matrix:{a:1,b:0,c:0,d:1,e:0,f:0}},ae=function(i){return(i.transform.baseVal.consolidate()||re).matrix},he=function(i){for(var s=p.getTweensOf(i),t=0;t<s.length;t++){if(s[t].vars.motionPath)return s[t];s[t].timeline&&s.push.apply(s,s[t].timeline.getChildren())}},It=function(i,s){var t="Please gsap.registerPlugin(MotionPathPlugin)";ot=window,p=p||i||ot.gsap||console.warn(t),p&&C.register(p),R=document,$=R.body,J=R.documentElement,p&&(Q=p.plugins.motionPath,W.PathEditor=C,Nt=p.core.context||function(){}),Q?(se(),Tt=Q.arrayToRawPath,Rt=Q.rawPathToString):s===!0&&console.warn(t)},W=function(){function l(s,t){var e=this;t===void 0&&(t={}),Q||It(t.gsap,1);var n=st("div"),r=this,o={x:0,y:0},h,a,d,c,u,f,g,_,v,y,w,G,E,ut;s instanceof p.core.Tween?(_=s,h=_.targets()[0]):(h=p.utils.toArray(s)[0],_=he(h)),a=yt(t.path,h,t),this.offset=o,f=ee(h),c=parseFloat(p.getProperty(h,"x","px")),u=parseFloat(p.getProperty(h,"y","px")),d=h.getCTM&&h.tagName.toLowerCase()!=="svg",_&&!a&&(a=yt(_.vars.motionPath.path||_.vars.motionPath,h,_.vars.motionPath)),n.setAttribute("class","copy-motion-path"),n.style.cssText="border-radius:8px; background-color:rgba(85, 85, 85, 0.7); color:#fff; cursor:pointer; padding:6px 12px; font-family:Signika Negative, Arial, sans-serif; position:fixed; left:50%; transform:translate(-50%, 0); font-size:19px; bottom:10px",n.innerText="COPY MOTION PATH",n._gsHelper=r,(p.utils.toArray(t.container)[0]||$).appendChild(n),oe(n,function(){return r.getString()},function(){return p.fromTo(n,{backgroundColor:"white"},{duration:.5,backgroundColor:"rgba(85, 85, 85, 0.6)"})}),g=a&&a.ownerSVGElement,g?(t.pathColor&&p.set(a,{stroke:t.pathColor}),t.pathWidth&&p.set(a,{strokeWidth:t.pathWidth}),t.pathOpacity&&p.set(a,{opacity:t.pathOpacity})):(v=d&&h.ownerSVGElement&&h.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg",d?(g=h.ownerSVGElement,y=h.getBBox(),w=ae(h),c=w.e,u=w.f,o.x=y.x,o.y=y.y):(g=st("svg",v),ut=!0,$.appendChild(g),g.setAttribute("viewBox","0 0 100 100"),g.setAttribute("class","motion-path-helper"),g.style.cssText="overflow:visible; background-color: transparent; position:absolute; z-index:5000; width:100px; height:100px; top:"+(f.top-u)+"px; left:"+(f.left-c)+"px;"),y=ct(a)&&!Xt.test(a)?a:ie(c,u),a=st("path",v),a.setAttribute("d",y),a.setAttribute("vector-effect","non-scaling-stroke"),a.style.cssText="fill:transparent; stroke-width:"+(t.pathWidth||3)+"; stroke:"+(t.pathColor||"#555")+"; opacity:"+(t.pathOpacity||.6),g.appendChild(a)),(o.x||o.y)&&p.set(a,{x:o.x,y:o.y}),"selected"in t||(t.selected=!0),"anchorSnap"in t||(t.anchorSnap=function(I){I.x*I.x+I.y*I.y<16&&(I.x=I.y=0)}),E=_&&_.parent&&_.parent.data==="nested"?_.parent.parent:_,t.onPress=function(){E.pause(0)},G=function(){_.invalidate(),E.restart()},t.onRelease=t.onDeleteAnchor=G,this.editor=C.create(a,t),t.center&&p.set(h,{transformOrigin:"50% 50%",xPercent:-50,yPercent:-50}),_?(_.vars.motionPath.path?_.vars.motionPath.path=a:_.vars.motionPath={path:a},E.parent!==p.globalTimeline&&p.globalTimeline.add(E,ne(E)-E.delay()),E.repeat(-1).repeatDelay(1)):_=E=p.to(h,{motionPath:{path:a,start:t.start||0,end:"end"in t?t.end:1,autoRotate:"autoRotate"in t?t.autoRotate:!1,align:a,alignOrigin:t.alignOrigin},duration:t.duration||5,ease:t.ease||"power1.inOut",repeat:-1,repeatDelay:1,paused:!t.path}),this.animation=_,Nt(this),this.kill=this.revert=function(){e.editor.kill(),n.parentNode&&n.parentNode.removeChild(n),ut&&g.parentNode&&g.parentNode.removeChild(g),E&&E.revert()}}var i=l.prototype;return i.getString=function(){return this.editor.getString(!0,-this.offset.x,-this.offset.y)},l}();W.register=It;W.create=function(l,i){return new W(l,i)};W.editPath=function(l,i){return C.create(l,i)};W.version="3.13.0";export{W as M};
